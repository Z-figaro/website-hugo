<!DOCTYPE html>
<html lang="en-us">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">

<meta itemprop="name" content=" Attribute 实现系统代码提示">
<meta itemprop="description" content="资料放在最前面，方便同学查询。 官方文档 matt大神 attribute是GNU C特色之一,在iOS用的比较广泛.系统中有许多地方使用到. att">


<meta itemprop="datePublished" content="2019-04-03T16:55:07&#43;08:00" />
<meta itemprop="dateModified" content="2019-04-03T16:55:07&#43;08:00" />
<meta itemprop="wordCount" content="2087">



<meta itemprop="keywords" content="attribute,iOS," />
<meta property="og:title" content=" Attribute 实现系统代码提示" />
<meta property="og:description" content="资料放在最前面，方便同学查询。 官方文档 matt大神 attribute是GNU C特色之一,在iOS用的比较广泛.系统中有许多地方使用到. att" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://z-figaro.github.io/ios/-attribute-%E5%AE%9E%E7%8E%B0%E7%B3%BB%E7%BB%9F%E4%BB%A3%E7%A0%81%E6%8F%90%E7%A4%BA/" />
<meta property="article:published_time" content="2019-04-03T16:55:07&#43;08:00"/>
<meta property="article:modified_time" content="2019-04-03T16:55:07&#43;08:00"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=" Attribute 实现系统代码提示"/>
<meta name="twitter:description" content="资料放在最前面，方便同学查询。 官方文档 matt大神 attribute是GNU C特色之一,在iOS用的比较广泛.系统中有许多地方使用到. att"/>

	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
	<link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
	<link rel="shortcut icon" href="/favicon.ico">

	<title> Attribute 实现系统代码提示</title>
	<link rel="stylesheet" href="https://z-figaro.github.io/css/style.min.c693329ce3bac2503f88115a4011a284a06d53e30f484562a37664dc4c5f0a74.css" integrity="sha256-xpMynOO6wlA/iBFaQBGihKBtU+MPSEVio3Zk3ExfCnQ=">
	
</head>

<body id="page">
	
	<header id="site-header" class="animated slideInUp faster">
		<div class="hdr-wrapper section-inner">
			<div class="hdr-left">
				<div class="site-branding">
					<a href="https://z-figaro.github.io/">Figaro ZP</a>
				</div>
				<nav class="site-nav hide-in-mobile">
					<a href="https://z-figaro.github.io/daily/">Daily</a>
					<a href="https://z-figaro.github.io/golang/">Golang</a>
					<a href="https://z-figaro.github.io/python/">Python</a>
					<a href="https://z-figaro.github.io/ios/">iOS</a>
					<a href="https://z-figaro.github.io/about-me/">About</a>
				</nav>
			</div>
			<div class="hdr-right hdr-icons">
				<span class="hdr-social hide-in-mobile"><a href="https://www.facebook.com/zp.figaro.5" target="_blank" rel="noopener" title="Facebook"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-facebook"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></a><a href="zpfigaro@gmail.com" target="_blank" rel="noopener" title="Email"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></a><a href="https://github.com/Z-figaro" target="_blank" rel="noopener" title="Github"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></span><button id="menu-btn" class="hdr-btn" title="Menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button>
			</div>
		</div>
	</header>
	<div id="mobile-menu" class="animated fast">
		<ul>
			<li><a href="https://z-figaro.github.io/daily/">Daily</a></li>
			<li><a href="https://z-figaro.github.io/golang/">Golang</a></li>
			<li><a href="https://z-figaro.github.io/python/">Python</a></li>
			<li><a href="https://z-figaro.github.io/ios/">iOS</a></li>
			<li><a href="https://z-figaro.github.io/about-me/">About</a></li>
		</ul>
	</div>


	<main class="site-main section-inner thin animated fadeIn faster">
		<h1> Attribute 实现系统代码提示</h1>
		<div class="content">
			

<p><a href="http://releases.llvm.org/3.8.0/tools/clang/docs/AttributeReference.html#opencl-address-spaces" target="_blank">资料</a>放在最前面，方便同学查询。
<a href="https://gcc.gnu.org/onlinedocs/gcc-4.0.0/gcc/Function-Attributes.html" target="_blank">官方文档</a>
<a href="https://nshipster.com/__attribute__/" target="_blank">matt大神</a></p>

<p>attribute是GNU C特色之一,在iOS用的比较广泛.系统中有许多地方使用到. attribute可以设置函数属性（Function Attribute ）、变量属性（Variable Attribute ）和类型属性（Type Attribute)等.</p>

<h2 id="函数属性-function-attribute">函数属性(Function Attribute)<a href="#函数属性-function-attribute" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>

<ul>
<li>noreturn</li>
<li>noinline</li>
<li>always_inline</li>
<li>pure</li>
<li>const</li>
<li>nothrow</li>
<li>sentinel</li>
<li>format</li>
<li>format_arg</li>
<li>no_instrument_function</li>
<li>section</li>
<li>constructor</li>
<li>destructor</li>
<li>used</li>
<li>unused</li>
<li>deprecated</li>
<li>weak</li>
<li>malloc</li>
<li>alias</li>
<li>warn_unused_result</li>
<li>nonnull</li>
</ul>

<h2 id="类型属性-type-attributes">类型属性(Type Attributes)<a href="#类型属性-type-attributes" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>

<ul>
<li>aligned</li>
<li>packed</li>
<li>transparent_union,</li>
<li>unused,</li>
<li>deprecated</li>
<li>may_alias</li>
</ul>

<h2 id="变量属性-variable-attribute">变量属性(Variable Attribute)<a href="#变量属性-variable-attribute" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>

<ul>
<li>aligned</li>
<li>packed</li>
</ul>

<h2 id="clang特有的">Clang特有的<a href="#clang特有的" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>

<ul>
<li>availability</li>
<li>overloadable</li>
</ul>

<p>以上是我抄录的，并不只有这些。</p>

<h1 id="书写格式">书写格式<a href="#书写格式" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h1>

<p>书写格式：attribute后面会紧跟两对原括弧，括弧里面是相应的attribute参数</p>

<pre><code>__attribute__((xxx))
</code></pre>

<h2 id="使用场景和技巧">使用场景和技巧<a href="#使用场景和技巧" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>

<p>系统使用了宏定义封装了很多，建议遇到或者需要使用的特意记录一下。毕竟真的很多很多，你也不太常用的。
其中我整理了一下比较常用的一些参数，转录了很多不同作者总结的，站在巨人的肩膀上；边走边抄。</p>

<h3 id="更新了-之前的废弃">更新了，之前的废弃<a href="#更新了-之前的废弃" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>

<pre><code>//可以自定义描述信息
__attribute__((deprecated(&quot;已过期!&quot;)))

//系统的宏定义
DEPRECATED_ATTRIBUTE 
</code></pre>

<p>我们经常看到三方或者系统中，有的方法废弃了。比如alertview，那么我们就应该这样写。</p>

<pre><code>//标记这个属性已过期
@property (nonatomic, strong) NSString *name __attribute__((deprecated(&quot;属性已过期&quot;)));

//标记方法已过期
- (void) testOld __attribute__((deprecated(&quot;方法已过期, 请使用 test2&quot;))) {  
}

- (void) testNew {
}

-(void)viewDidAppear:(BOOL)animated
{
    [super viewDidAppear:animated];

    //编译器警告，'testOld' is deprecated: 已过期, 请使用 testNew
    [self testOld];

    //编译器警告，提示 &quot;'name' 已过期...&quot;
    NSLog(@&quot;%@&quot;, self.name);
}
</code></pre>

<h3 id="更新了-不能用">更新了，不能用<a href="#更新了-不能用" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>

<pre><code>//可以自定义描述信息
__attribute__((unavailable(&quot;已经废弃,请使用 xxxx&quot;)))


//系统宏定义
NS_UNAVAILABLE;
UNAVAILABLE_ATTRIBUTE;
</code></pre>

<p>使用场景：</p>

<ul>
<li>自定义了类的初始化方法，不希望外界使用初始化初始化，并且给出正确的提示。比如单例不能使用init方法，应该用自定义的初始化方法。</li>
<li>比希望继续使用某个属性，并且给出正确的提示。</li>
</ul>

<pre><code>@interface ViewController : UIViewController
@property (nonatomic, strong) NSString *name __attribute__((unavailable(&quot;这个属性已经废弃&quot;)));

#pragma mark - 初始化
-(instancetype)init __attribute__((unavailable(&quot;这个方法已经废弃,请使用 initWithName:&quot;)));

-(instancetype)initWithName:(NSString *)Name;
@end

//测试方法

- (void) test {
    //编译不通过，提示 &quot;'init' 已经废弃了...&quot;
    ViewController *vc = [[ViewController alloc] init];

    //编译不通过，提示 &quot;'name' 已经废弃了...&quot;
    NSLog(@&quot;%@&quot;, vc.name);
}
</code></pre>

<h3 id="block中提示self可能引起循环引用">block中提示self可能引起循环引用<a href="#block中提示self可能引起循环引用" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>

<pre><code>__attribute__((ns_consumes_self))

//系统宏定义
NS_REPLACES_RECEIVER

//系统的封装
#if __has_feature(attribute_ns_consumes_self)
#define NS_REPLACES_RECEIVER __attribute__((ns_consumes_self)) NS_RETURNS_RETAINED
#else
#define NS_REPLACES_RECEIVER
#endif
</code></pre>

<p>这是我在一些组件功能的时候，发现别人会提示在block中需要注意的。</p>

<pre><code>-(NSString *)stringManager:(stringBlock) resultString NS_REPLACES_RECEIVER;

它只能在方法中使用
self.subString = ^NSString *(NSString *string) {
        //这里就是弹警告
        [self testOld];
        NSLog(@&quot;string -- %@&quot;,string);
        return [string substringFromIndex:1];
    };
</code></pre>

<h3 id="在哪些平台或者版本可用">在哪些平台或者版本可用<a href="#在哪些平台或者版本可用" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>

<pre><code>__attribute__((availability(ios,introduced=6.0,deprecated=8.0,obsoleted=10.0,message=&quot;ios10.0中废弃&quot;)));

ios：iOS平台
introduced：开始使用的版本
deprecated：开始弃用的版本
obsoleted：禁止使用的版本

只能在方法中使用
</code></pre>

<h3 id="变量的作用域结束时-调用指定的函数">变量的作用域结束时，调用指定的函数<a href="#变量的作用域结束时-调用指定的函数" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>

<pre><code>__attribute__((cleanup(作用域结束调用的函数名)))
</code></pre>

<pre><code>void intCleanup(int *value){
    NSLog(@&quot;cleanup:%d&quot;,*value);
}

void stringCleanup(__strong NSString **value){
    NSLog(@&quot;cleanup:%@&quot;,*value);
}

void rectCleanup(CGRect *value){
    CGRect temp = *value;
    NSString *str = NSStringFromCGRect(temp);
    NSLog(@&quot;cleanup:%@&quot;,str);
}

void appDelegateCleanup(__strong AppDelegate **value){
    NSLog(@&quot;cleanup:%@&quot;,*value);
}

int main(int argc, char * argv[]) {
    //第一个作用域
    {
        int a __attribute__((cleanup(intCleanup))) = 10;
    }
    //第二个作用域
    {
        NSString *string __attribute__((cleanup(stringCleanup))) = @&quot;张三&quot;;
        CGRect rect __attribute__((cleanup(rectCleanup))) = {0,0,1,1};
    }
    //第三个作用域
    {
        AppDelegate *delegate __attribute__((cleanup(appDelegateCleanup))) = [[AppDelegate alloc] init];
    }
}


//控制台输出
1.xxx[6549:886516] cleanup:10
2.xxx[6549:886516] cleanup:{{0, 0}, {1, 1}}
3.xxx[6549:886516] cleanup:张三 //用一个作用域，这一个cleanup 是最先加的
4.xxx[6780:893605] cleanup:&lt;AppDelegate: 0x6040000337a0&gt;
5.xxx[6780:893605] AppDelegate dealloc //dealloc 在 cleanup之后
</code></pre>

<p>别人的总结：</p>

<pre><code>1.一个作用域内有若干个cleanup的变量，他们的调用顺序是先入后出的栈式顺序
2.调用时机：cleanup比dealloc早
3.作用域的结束包括:大括号结束、return、goto、break、exception等
</code></pre>

<p>所以我感觉可以控制作用域和代码执行顺序：</p>

<pre><code>//指向block的指针,觉得不好理解可以用typeof
void blockCleanUp(void(^*block)()){
    (*block)();
}

 void (^block)(void) __attribute__((cleanup(blockCleanUp))) = ^{
        NSLog(@&quot;finish block&quot;);
    };

</code></pre>

<p>这个好处就是,不用等到block最后才写某些代码,我们可以把它放在block的任意位置,防止忘记.</p>

<p>参考：<a href="http://blog.sunnyxx.com/2014/09/15/objc-attribute-cleanup/#rd" target="_blank">黑魔法</a></p>

<h3 id="一个类不能有子类">一个类不能有子类<a href="#一个类不能有子类" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>

<p>使用与类，该类不能有子类</p>

<pre><code>__attribute__((objc_subclassing_restricted))
</code></pre>

<pre><code>#import &lt;Foundation/Foundation.h&gt;

__attribute__((objc_subclassing_restricted))
@interface KDClangTest : NSObject
@end


#import &quot;KDClangTest.h&quot;

//这里编译出错，提示“Cannot subclass a class that was declared with the 'objc_subclassing_restricted' attribute”
@interface KDClangSonTest : KDClangTest
@end

</code></pre>

<h3 id="子类要重写某个方法-必须调用super">子类要重写某个方法，必须调用super<a href="#子类要重写某个方法-必须调用super" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>

<pre><code>//通用写法
__attribute__((objc_requires_super))

//系统宏定义，其实和上面是一样的
NS_REQUIRES_SUPER

</code></pre>

<pre><code>#import &lt;Foundation/Foundation.h&gt;

@interface KDClangTest : NSObject

- (void)instanceMethod1 __attribute__((objc_requires_super));
@end


#import &quot;KDClangTest.h&quot;

@interface KDClangSonTest : KDClangTest
@end
@implementation KDClangSonTest


-(void)instanceMethod1 {
    NSLog(@&quot;I am son&quot;);
    //这里编译器会出现警告： Method possibly missing a [super instanceMethod1] call
}
</code></pre>

<h3 id="在函数某个参数不能为空">在函数某个参数不能为空<a href="#在函数某个参数不能为空" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>

<pre><code>__attribute__((nonnull (x)))
</code></pre>

<pre><code>- (int)addNum1:(int *)num1 num2:(int *)num2  __attribute__((nonnull (1,2))){//1,2表示第一个和第二个参数不能为空
    return  *num1 + *num2;
}

- (NSString *)getHost:(NSURL *)url __attribute__((nonnull (1))){//第一个参数不能为空
    return url.host;
}
</code></pre>

<h3 id="类或协议的名字在编译时指定成另一个">类或协议的名字在编译时指定成另一个<a href="#类或协议的名字在编译时指定成另一个" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>

<pre><code>__attribute__((objc_runtime_name(&quot;xxx&quot;)))
</code></pre>

<pre><code>在编译时指定成另一个.示例如下:
__attribute__((objc_runtime_name(&quot;NSObject&quot;)))
@interface SGObject :NSObject

@end

 //调用
 NSLog(@&quot;%@&quot;,[SGObject class]);
 //输出
 2016-07-22 11:18:00.934 Study[14355:5516261] NSObject

</code></pre>

<p>很有很多<a href="https://medium.com/@liushuaikobe/%E4%B8%8Eclang%E5%85%B1%E8%88%9E-attribute-8b6bc839958c" target="_blank">例子</a>
<a href="https://www.jianshu.com/p/29eb7b5c8b2d" target="_blank">很多很多</a></p>

		</div>
	</main>

	<footer id="site-footer" class="section-inner thin animated fadeIn faster">
		<p>&copy; 2019 <a href="https://z-figaro.github.io/">Figaro ZP</a> &#183; <a href="https://creativecommons.org/licenses/by-figaro zp" target="_blank" rel="noopener">CC BY-NC 4.0</a></p>
		<p>
			Made with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> &#183; Theme <a href="https://github.com/Track3/hermit" target="_blank" rel="noopener">Hermit</a> &#183; <a href="https://z-figaro.github.io/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a>
		</p>
	</footer>


	<script src="https://z-figaro.github.io/js/main.min.8f39f24808e9d0a9b02da58c2d2838da859dc0b7bdfadbdb1883aae8b6adacfe.js" integrity="sha256-jznySAjp0KmwLaWMLSg42oWdwLe9+tvbGIOq6LatrP4="></script>

</body>

</html>
